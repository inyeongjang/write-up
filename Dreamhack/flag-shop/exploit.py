from pwn import *
r = remote("host8.dreamhack.games", 12814)
r.recvuntil(b"There are 50 rounds.", drop = True)

for i in range(50):
    data = r.recvuntil(b"Which item do you want to buy?")
    lines = data.decode().splitlines()
    for line in lines:
        if "flag" in line:
            flag_number = int(line.split(".")[0])
            break
    r.recvuntil(b"> ", drop = True)
    r.sendline(str(flag_number).encode())
r.interactive()